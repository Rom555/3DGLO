(()=>{"use strict";(e=>{const t=document.getElementById("timer-hours"),r=document.getElementById("timer-minutes"),n=document.getElementById("timer-seconds");let o;const l=function(e){return String(e).length<2?"0"+e:e};o=setInterval((()=>{let e=(()=>{let e=(new Date("10 march 2022").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();e.timeRemaining<=0?clearInterval(o):(t.textContent=l(e.hours),r.textContent=l(e.minutes),n.textContent=l(e.seconds))}),1e3)})(),(()=>{const e=document.querySelector("menu");document.addEventListener("click",(t=>{(t.target.closest(".menu")||t.target.closest("menu")&&"A"===t.target.tagName||e.classList.contains("active-menu")&&!t.target.closest("menu"))&&(t.preventDefault(),e.classList.toggle("active-menu"))}))})(),(()=>{const e=document.querySelectorAll(".popup-btn"),t=document.querySelector(".popup"),r=t.querySelector(".popup-content");t.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||(t.style.display="none")})),e.forEach((e=>e.addEventListener("click",(()=>{t.style.display="block",window.screen.width>=768&&(()=>{let e,t=-10;r.style.top="0";const n=()=>{t++,e=requestAnimationFrame(n),t>10?cancelAnimationFrame(e):r.style.top=t+"%"};e=requestAnimationFrame(n)})()}))))})(),[...document.querySelectorAll("menu>ul>li>a"),document.querySelector("main>a")].forEach((e=>{const t=e.attributes.href.value;e.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})}))})),(()=>{const e=document.querySelectorAll("form"),t=(e,t,r)=>{let n=e.value;n=n.replace(t,""),n=n.replace(/^[\-\s]+/,""),n=n.replace(/[\-\s]+$/,""),n=n.replace(/\-{2,}/g,"-"),n=n.replace(/\s{2,}/g," "),r&&(n=r(n)),e.value=n},r=e=>(e&&(e=e.replace(/([а-я])([а-я]*)/g,((e,t,r)=>t.toUpperCase()+r.toLowerCase()))),e);e.forEach((e=>{const n=e.querySelector("input[type=text]"),o=e.querySelector('input[placeholder="Ваше сообщение"]'),l=e.querySelector("input[type=email]"),a=e.querySelector("input[type=tel]");n.addEventListener("blur",(()=>{t(n,/[^а-я\-\s]/gi,r)})),o&&o.addEventListener("blur",(()=>{t(o,/[^а-я\-\s]/gi)})),l.addEventListener("blur",(()=>{t(l,/[^a-z\d\@\-\_\.\!\~\*\']/gi)})),a.addEventListener("blur",(()=>{t(a,/[^\d\(\)\-]/g)}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),r=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{const n=e.target.closest(".service-header-tab");t.forEach(((e,t)=>{e===n?(e.classList.add("active"),r[t].classList.remove("d-none")):(e.classList.remove("active"),r[t].classList.add("d-none"))}))}))})(),((e,t,r,n="portfolio-item-active",o="dot",l="dot-active")=>{if(!e||!t||!r)return;const a=document.querySelector("."+e),c=document.querySelectorAll("."+t),s=document.querySelector("."+r);if(!a||!c||!s)return;let u,i=[],d=0;const m=(e,t,r)=>{e[t].classList.remove(r)},v=(e,t,r)=>{e[t].classList.add(r)},p=()=>{m(c,d,n),m(i,d,l),d++,d>=c.length&&(d=0),v(c,d,n),v(i,d,l)},g=(e=2e3)=>{u=setInterval(p,e)};a.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(`.${o}, .portfolio-btn`)&&(m(c,d,n),m(i,d,l),e.target.matches("#arrow-right")?d++:e.target.matches("#arrow-left")?d--:e.target.classList.contains(o)&&i.forEach(((t,r)=>{e.target===t&&(d=r)})),d>=c.length&&(d=0),d<0&&(d=c.length-1),v(c,d,n),v(i,d,l))})),a.addEventListener("mouseenter",(e=>{e.target.matches(`.${o}, .portfolio-btn`)&&clearInterval(u)}),!0),a.addEventListener("mouseleave",(e=>{e.target.matches(`.${o}, .portfolio-btn`)&&g(3e3)}),!0),c.forEach(((e,t)=>{let r=document.createElement("li");r.classList=o+(0===t?" "+l:""),s.append(r),i.push(r)})),g(3e3)})("portfolio-content","portfolio-item","portfolio-dots"),(e=>{const t=document.querySelector(".calc-block"),r=t.querySelector(".calc-type"),n=t.querySelector(".calc-square"),o=t.querySelector(".calc-count"),l=t.querySelector(".calc-day"),a=t.querySelector("#total");let c,s;const u=()=>{const t=+r.options[r.selectedIndex].value,u=+n.value;let i=0,d=1,m=1;c&&clearInterval(c),t&&u?(o.value>1&&(d+=+o.value/10),l.value&&l.value<5?m=2:l.value&&l.value<10&&(m=1.5),i=e*t*u*d*m,(t=>{s=0;let r=t/(e/10);c=setInterval((()=>{a.textContent=s,s+=r,s>t&&clearInterval(c)}),30)})(i)):a.textContent=0};t.addEventListener("input",(e=>{if(e.target===r&&u(),e.target===n||e.target===o||e.target===l){if(/\D+/g.test(e.target.value))return void(e.target.value=e.target.value.replace(/\D+/g,""));u()}}))})(100)})();