(()=>{"use strict";const e=({timing:e,draw:t,duration:r})=>{let o=performance.now();requestAnimationFrame((function n(l){let a=(l-o)/r;a>1&&(a=1);let c=e(a);t(c),a<1&&requestAnimationFrame(n)}))};(e=>{const t=document.getElementById("timer-hours"),r=document.getElementById("timer-minutes"),o=document.getElementById("timer-seconds");let n;const l=function(e){return String(e).length<2?"0"+e:e};n=setInterval((()=>{let e=(()=>{let e=(new Date("10 march 2022").getTime()-(new Date).getTime())/1e3;return{timeRemaining:e,hours:Math.floor(e/60/60),minutes:Math.floor(e/60%60),seconds:Math.floor(e%60)}})();e.timeRemaining<=0?clearInterval(n):(t.textContent=l(e.hours),r.textContent=l(e.minutes),o.textContent=l(e.seconds))}),1e3)})(),(()=>{const e=document.querySelector("menu");document.addEventListener("click",(t=>{(t.target.closest(".menu")||t.target.closest("menu")&&"A"===t.target.tagName||e.classList.contains("active-menu")&&!t.target.closest("menu"))&&(t.preventDefault(),e.classList.toggle("active-menu"))}))})(),(()=>{const t=document.querySelectorAll(".popup-btn"),r=document.querySelector(".popup"),o=r.querySelector(".popup-content"),n=r.querySelector("form");r.addEventListener("click",(e=>{e.target.closest(".popup-content")&&!e.target.classList.contains("popup-close")||(r.style.display="none")})),t.forEach((t=>t.addEventListener("click",(()=>{r.style.display="block",window.screen.width>=768&&e({duration:500,timing:e=>e,draw(e){r.style.width=100*e+"%",o.style.top=20*(e-.5)+"%",o.style.opacity=e,n.style.top=500*(1-e)+"px"}})})))),n.style.position="relative"})(),[...document.querySelectorAll("menu>ul>li>a"),document.querySelector("main>a")].forEach((e=>{const t=e.attributes.href.value;e.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})}))})),(()=>{const e=document.querySelectorAll("form"),t=(e,t,r)=>{let o=e.value;o=o.replace(t,""),o=o.replace(/^[\-\s]+/,""),o=o.replace(/[\-\s]+$/,""),o=o.replace(/\-{2,}/g,"-"),o=o.replace(/\s{2,}/g," "),r&&(o=r(o)),e.value=o},r=e=>(e&&(e=e.replace(/([а-я])([а-я]*)/g,((e,t,r)=>t.toUpperCase()+r.toLowerCase()))),e);e.forEach((e=>{const o=e.querySelector("input[type=text]"),n=e.querySelector('input[placeholder="Ваше сообщение"]'),l=e.querySelector("input[type=email]"),a=e.querySelector("input[type=tel]");o.addEventListener("blur",(()=>{t(o,/[^а-я\-\s]/gi,r)})),n&&n.addEventListener("blur",(()=>{t(n,/[^а-я\-\s]/gi)})),l.addEventListener("blur",(()=>{t(l,/[^a-z\d\@\-\_\.\!\~\*\']/gi)})),a.addEventListener("blur",(()=>{t(a,/[^\d\(\)\-]/g)}))}))})(),(()=>{const e=document.querySelector(".service-header"),t=e.querySelectorAll(".service-header-tab"),r=document.querySelectorAll(".service-tab");e.addEventListener("click",(e=>{const o=e.target.closest(".service-header-tab");t.forEach(((e,t)=>{e===o?(e.classList.add("active"),r[t].classList.remove("d-none")):(e.classList.remove("active"),r[t].classList.add("d-none"))}))}))})(),((e,t,r,o="portfolio-item-active",n="dot",l="dot-active")=>{if(!e||!t||!r)return;const a=document.querySelector("."+e),c=document.querySelectorAll("."+t),s=document.querySelector("."+r);if(!a||!c||!s)return;let i,u=[],d=0;const m=(e,t,r)=>{e[t].classList.remove(r)},p=(e,t,r)=>{e[t].classList.add(r)},v=()=>{m(c,d,o),m(u,d,l),d++,d>=c.length&&(d=0),p(c,d,o),p(u,d,l)},g=(e=2e3)=>{i=setInterval(v,e)};a.addEventListener("click",(e=>{e.preventDefault(),e.target.matches(`.${n}, .portfolio-btn`)&&(m(c,d,o),m(u,d,l),e.target.matches("#arrow-right")?d++:e.target.matches("#arrow-left")?d--:e.target.classList.contains(n)&&u.forEach(((t,r)=>{e.target===t&&(d=r)})),d>=c.length&&(d=0),d<0&&(d=c.length-1),p(c,d,o),p(u,d,l))})),a.addEventListener("mouseenter",(e=>{e.target.matches(`.${n}, .portfolio-btn`)&&clearInterval(i)}),!0),a.addEventListener("mouseleave",(e=>{e.target.matches(`.${n}, .portfolio-btn`)&&g(3e3)}),!0),c.forEach(((e,t)=>{let r=document.createElement("li");r.classList=n+(0===t?" "+l:""),s.append(r),u.push(r)})),g(3e3)})("portfolio-content","portfolio-item","portfolio-dots"),(t=>{const r=document.querySelector(".calc-block"),o=r.querySelector(".calc-type"),n=r.querySelector(".calc-square"),l=r.querySelector(".calc-count"),a=r.querySelector(".calc-day"),c=r.querySelector("#total"),s=()=>{const r=+o.options[o.selectedIndex].value,s=+n.value,i=+c.textContent;let u=0,d=1,m=1;r&&s?(l.value>1&&(d+=+l.value/10),a.value&&a.value<5?m=2:a.value&&a.value<10&&(m=1.5),u=t*r*s*d*m):u=0,e({duration:200,timing:e=>e,draw(e){c.textContent=Math.floor(i+(u-i)*e)}})};r.addEventListener("input",(e=>{if(e.target===o&&s(),e.target===n||e.target===l||e.target===a){if(/\D+/g.test(e.target.value))return void(e.target.value=e.target.value.replace(/\D+/g,""));s()}}))})(100)})();